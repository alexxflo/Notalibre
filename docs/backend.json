{
  "entities": {
    "UserProfile": {
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user profile in the VORTEX application.",
      "properties": {
        "username": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "avatarUrl": {
          "type": "string",
          "description": "URL of the user's profile picture.",
          "format": "uri"
        },
        "coinBalance": {
          "type": "number",
          "description": "The user's current coin balance."
        },
        "gatekeeperPassed": {
          "type": "boolean",
          "description": "Whether the user has passed the initial gatekeeper modal."
        },
        "isBlocked": {
          "type": "boolean",
          "description": "Whether the user is blocked from using the application."
        },
        "lastCampaignGateCheck": {
          "type": "string",
          "description": "Timestamp of when the user last passed the campaign creation gate."
        },
        "following": {
          "type": "array",
          "description": "Array of user IDs this user is following.",
          "items": {
            "type": "string"
          }
        },
        "followers": {
          "type": "array",
          "description": "Array of user IDs who are following this user.",
          "items": {
            "type": "string"
          }
        },
        "tiktokUrl": {
            "type": "string",
            "description": "URL of the user's TikTok profile.",
            "format": "uri"
        },
        "instagramUrl": {
            "type": "string",
            "description": "URL of the user's Instagram profile.",
            "format": "uri"
        },
        "facebookUrl": {
            "type": "string",
            "description": "URL of the user's Facebook profile.",
            "format": "uri"
        }
      },
      "required": [
        "username",
        "email",
        "avatarUrl",
        "coinBalance",
        "gatekeeperPassed"
      ]
    },
    "Post": {
      "title": "Post",
      "description": "Represents a single post made by a user in the main feed.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who created the post."
        },
        "username": {
          "type": "string",
          "description": "The username of the post creator."
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the post creator's avatar."
        },
        "text": {
          "type": "string",
          "description": "The text content of the post."
        },
        "imageUrl": {
          "type": "string",
          "format": "uri",
          "description": "An optional URL for an image attached to the post."
        },
        "likes": {
          "type": "array",
          "description": "An array of user IDs who have liked the post.",
          "items": {
            "type": "string"
          }
        },
        "commentCount": {
          "type": "number",
          "description": "The total number of comments on the post."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the post was created."
        },
        "visibility": {
          "type": "string",
          "description": "The visibility of the post ('public' or 'private').",
          "enum": [
            "public",
            "private"
          ]
        }
      },
      "required": [
        "userId",
        "username",
        "avatarUrl",
        "text",
        "likes",
        "commentCount",
        "createdAt",
        "visibility"
      ]
    },
    "Comment": {
      "title": "Comment",
      "description": "Represents a single comment on a post.",
      "type": "object",
      "properties": {
        "postId": {
          "type": "string",
          "description": "The ID of the post this comment belongs to."
        },
        "userId": {
          "type": "string",
          "description": "The UID of the user who wrote the comment."
        },
        "username": {
          "type": "string",
          "description": "The username of the comment author."
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the comment author's avatar."
        },
        "text": {
          "type": "string",
          "description": "The content of the comment."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the comment was created."
        }
      },
      "required": [
        "postId",
        "userId",
        "username",
        "avatarUrl",
        "text",
        "createdAt"
      ]
    },
    "Stats": {
      "title": "Stats",
      "type": "object",
      "description": "Represents statistical data for the application.",
      "properties": {
        "count": {
          "type": "number",
          "description": "A generic counter."
        }
      },
      "required": [
        "count"
      ]
    },
    "DailyStats": {
      "title": "DailyStats",
      "type": "object",
      "description": "Represents daily active user statistics.",
      "properties": {
        "count": {
          "type": "number",
          "description": "The number of unique active users for a given day."
        },
        "date": {
          "type": "string",
          "description": "The date for the stats in YYYY-MM-DD format."
        }
      },
      "required": [
        "count",
        "date"
      ]
    },
    "Campaign": {
      "title": "Campaign",
      "description": "Represents a user-created campaign to gain followers.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who created the campaign."
        },
        "username": {
          "type": "string",
          "description": "The username for the social media profile."
        },
        "socialNetwork": {
          "type": "string",
          "description": "The social media platform."
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the social media profile."
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the avatar for the profile."
        },
        "reward": {
          "type": "number",
          "description": "The number of coins rewarded for one follow."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the campaign was created."
        }
      },
      "required": [
        "userId",
        "username",
        "socialNetwork",
        "url",
        "avatarUrl",
        "reward",
        "createdAt"
      ]
    },
    "PurchaseVerification": {
      "title": "PurchaseVerification",
      "description": "Represents a manual purchase verification request.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who made the purchase."
        },
        "packageId": {
          "type": "string",
          "description": "The ID of the coin package purchased (e.g., 'basic', 'premium')."
        },
        "status": {
          "type": "string",
          "description": "The status of the verification (e.g., 'pending', 'completed', 'rejected')."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the verification request was created."
        }
      },
      "required": [
        "userId",
        "packageId",
        "status",
        "createdAt"
      ]
    },
    "ChatMessage": {
      "title": "ChatMessage",
      "description": "Represents a single message in the global chat room.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who sent the message."
        },
        "username": {
          "type": "string",
          "description": "The display name of the user."
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's avatar."
        },
        "text": {
          "type": "string",
          "description": "The content of the message."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the message was sent."
        }
      },
      "required": [
        "userId",
        "username",
        "avatarUrl",
        "text",
        "createdAt"
      ]
    },
    "Notification": {
      "title": "Notification",
      "description": "Represents a notification for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who receives the notification."
        },
        "actorId": {
          "type": "string",
          "description": "The UID of the user who performed the action."
        },
        "actorUsername": {
          "type": "string",
          "description": "The username of the user who performed the action."
        },
        "actorAvatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "The avatar of the user who performed the action."
        },
        "type": {
          "type": "string",
          "enum": [
            "new_follower",
            "new_like",
            "new_comment",
            "avatar_change"
          ],
          "description": "The type of notification."
        },
        "postId": {
          "type": "string",
          "description": "The ID of the relevant post (for likes and comments)."
        },
        "postTextSnippet": {
          "type": "string",
          "description": "A snippet of the post text."
        },
        "read": {
          "type": "boolean",
          "description": "Whether the notification has been read."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of the notification."
        }
      },
      "required": [
        "userId",
        "actorId",
        "actorUsername",
        "actorAvatarUrl",
        "type",
        "read",
        "createdAt"
      ]
    },
    "Chat": {
      "title": "Chat",
      "description": "Represents a private chat session between two or more users.",
      "type": "object",
      "properties": {
        "participantIds": {
          "type": "array",
          "description": "Array of user UIDs participating in the chat.",
          "items": {
            "type": "string"
          }
        },
        "lastMessage": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string"
            },
            "senderId": {
              "type": "string"
            },
            "createdAt": {
              "type": "string"
            }
          }
        }
      },
      "required": [
        "participantIds"
      ]
    },
    "PrivateMessage": {
      "title": "PrivateMessage",
      "description": "Represents a single private message between two users.",
      "type": "object",
      "properties": {
        "senderId": {
          "type": "string",
          "description": "The UID of the user who sent the message."
        },
        "senderUsername": {
          "type": "string",
          "description": "The username of the sender."
        },
        "senderAvatarUrl": {
          "type": "string",
          "description": "URL of the sender's avatar."
        },
        "text": {
          "type": "string",
          "description": "The content of the message."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the message was sent."
        }
      },
      "required": [
        "senderId",
        "senderUsername",
        "senderAvatarUrl",
        "text",
        "createdAt"
      ]
    },
    "Story": {
      "title": "Story",
      "description": "Represents a temporary, 24-hour story.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who created the story."
        },
        "username": {
          "type": "string",
          "description": "The username of the story creator."
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the story creator's avatar."
        },
        "videoUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the story video."
        },
        "likes": {
          "type": "array",
          "description": "Array of user IDs who have liked the story.",
          "items": {
            "type": "string"
          }
        },
        "comments": {
          "type": "array",
          "description": "Array of comments on the story.",
          "items": {
            "type": "string"
          }
        },
        "views": {
          "type": "array",
          "description": "Array of user IDs who have viewed the story.",
          "items": {
            "type": "string"
          }
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the story was created."
        },
        "expiresAt": {
          "type": "string",
          "description": "Timestamp when the story will expire (24h after creation)."
        }
      },
      "required": [
        "userId",
        "username",
        "avatarUrl",
        "videoUrl",
        "likes",
        "comments",
        "views",
        "createdAt",
        "expiresAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile data. The 'userId' parameter corresponds to the authenticated user's UID, ensuring path-based ownership."
    },
    "/users/{userId}/messages/{messageId}": {
      "schema": {
        "$ref": "#/entities/ChatMessage"
      },
      "description": "Stores private chat messages for a specific user (support chat)."
    },
    "/users/{userId}/notifications/{notificationId}": {
      "schema": {
        "$ref": "#/entities/Notification"
      },
      "description": "Stores notifications for a specific user. Notifications are created by server-side logic (or client-side for simplicity here) in response to actions like follows, likes, etc."
    },
    "/posts/{postId}": {
      "schema": {
        "$ref": "#/entities/Post"
      },
      "description": "Stores individual posts created by users, forming the main social feed."
    },
    "/posts/{postId}/comments/{commentId}": {
      "schema": {
        "$ref": "#/entities/Comment"
      },
      "description": "Stores comments for a specific post."
    },
    "/stories/{storyId}": {
      "schema": {
        "$ref": "#/entities/Story"
      },
      "description": "Stores temporary stories. A Cloud Function or client-side logic should be used to delete documents where 'expiresAt' has passed."
    },
    "/chats/{chatId}": {
      "schema": {
        "$ref": "#/entities/Chat"
      },
      "description": "Stores metadata for a private chat between users."
    },
    "/chats/{chatId}/messages/{messageId}": {
      "schema": {
        "$ref": "#/entities/PrivateMessage"
      },
      "description": "Stores the actual messages for a specific private chat."
    },
    "/stats/users": {
      "schema": {
        "$ref": "#/entities/Stats"
      },
      "description": "Stores the total count of registered users."
    },
    "/stats/daily_active": {
      "schema": {
        "$ref": "#/entities/DailyStats"
      },
      "description": "Stores the count of daily active users. Resets every day."
    },
    "/campaigns/{campaignId}": {
      "schema": {
        "$ref": "#/entities/Campaign"
      },
      "description": "Stores individual, single-claim campaigns created by users. Each document represents one potential follow."
    },
    "/purchase_verifications/{verificationId}": {
      "schema": {
        "$ref": "#/entities/PurchaseVerification"
      },
      "description": "Stores manual purchase verification requests. Only administrators should have write access to change the status."
    }
  }
}
